{% extends "base.html" %} {% load static %} {% block content %}
<div class="page-content">
   <h2 class="p-5">{{ recipient.name }}'s Wish List</h2>
   <!-- DELETE MODE BAR -->
   <!-- <div class="card shadow-sm mb-4">
      <div class="card-body d-flex justify-content-between align-items-center"> -->
         <!-- Delete Mode Toggle -->
         <!-- <div class="form-check form-switch">
            <input
               class="form-check-input"
               type="checkbox"
               id="bulkDeleteToggle"/>
            <label class="form-check-label fw-semibold" for="bulkDeleteToggle">
               Delete Items
            </label>
         </div> -->
         <!-- Bulk Controls -->
         <!-- <div
            id="deleteControls"
            class="d-flex align-items-center gap-3">
            <div class="form-check">
               <input class="form-check-input bulk-checkbox" type="checkbox" id="selectAll" />
               <label class="form-check-label" for="selectAll">
                  Select All
               </label>
            </div>
            <button
               class="btn btn-danger btn-sm px-3"
               onclick="openBulkDeleteModal()"
               data-bs-toggle="modal"
               data-bs-target="#deleteModal">
               <i class="bi bi-trash"></i> Delete Selected
            </button>
         </div>
      </div>
   </div> -->
   <div class="d-flex justify-content-between align-items-center mb-3">
      <button class="green-button button" data-bs-toggle="modal" data-bs-target="#addModal" onclick="giftModal('Add Item to {{ recipient.name|escapejs }}\'s Wish List', `{% url 'add_wish_list' recipient.id %}`, 'Add Item')">Add Item +</button>
   </div>
   {% if wishlist_items %}
   <ul class="gift-list">
      {% for item in wishlist_items %}
      <li class="gift">
         <div class="dropdown">
            <button class="btn dropdown-toggle dots" type="button" data-bs-toggle="dropdown"> ... </button>
            <ul class="dropdown-menu">
               <li>
                  <button class="dropdown-item" data-bs-toggle="modal" data-bs-target="#addModal" onclick="editGiftModal('Edit Item', `{% url 'edit_wish_list' item.id %}`)"> Edit </button>
               </li>
               <li>
                  <button class="dropdown-item" data-bs-toggle="modal" data-bs-target="#deleteModal" onclick="openDeleteModal(`{% url 'delete_wish_list' item.id %}`, 'wishlist')"> Delete </button>
               </li>
            </ul>
         </div>
         <div class="d-flex align-items-center gap-3">
            <!-- <div class="form-check delete-checkbox-wrapper">
                <input
                type="checkbox"
                class="form-check-input delete-checkbox"
                value="{{ item.id }}"/>
            </div> -->
                        <!-- Dropdown for Edit/Delete -->
        <div class="gift-box"> {% if item.product_image %} 
          <div>
            <img src="{{ item.product_image }}" alt="{{ item.product_name }}"/>
            {% endif %} 
          </div>
          <div id="gift-info"> {% if item.product_name %} 
            <div>
            <a href="{{ item.item_url }}" class="fw-semibold text-decoration-none" target="_blank">
               {{ item.product_name }}
            </a></div> {% else %} 
            <div><a href="{{ item.item_url }}" class="fw-semibold text-decoration-none" target="_blank">
              {{ item.item_url }}
            </a></div> {% endif %} {% if item.product_price %} 
            <div><a>${{ item.product_price }}</a></div> {% endif %} 
          </div>
          <input type="checkbox" class="form-check-input delete-checkbox d-none" value="{{ item.id }}">
        </div>
      </li> {% endfor %} </ul> 
  </div>  </div>
  {% endif %}
</div>
{% endblock %}
